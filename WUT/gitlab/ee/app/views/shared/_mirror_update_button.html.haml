- if @project.mirror? && can?(current_user, :push_code, @project)
  - if @project.import_state.mirror_update_due?
    = render Pajamas::ButtonComponent.new(disabled: true, icon: 'retry') do
      = _('Update scheduled…')
  - elsif @project.import_state.updating_mirror?
    = render Pajamas::ButtonComponent.new(disabled: true, icon: 'retry') do
      = _('Updating…')
  - elsif can?(current_user, :admin_project, @project)
    = link_button_to update_now_project_mirror_path(@project), method: :post, icon: 'retry' do
      = _('Update now')
  - else
    = render Pajamas::ButtonComponent.new(disabled: true, icon: 'retry') do
      = _('Update now')
