---
migration_job_name: RecalculateShardingKeyIdForOrphanedProjectRunners
description: >
  This migration updates the `sharding_key_id` field for `ci_runners` records pointing to missing projects.
  If there is no other assigned project to fall back to, the runner is deleted.
feature_category: runner
introduced_by_url: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/177271
milestone: '17.8'
queued_migration_version: 20250108120138
finalized_by: '20250124130232'
